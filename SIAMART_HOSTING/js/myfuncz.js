function printdos(a){$Pcs2.ajax({type:"POST",url:"kasir.php",chace:true,async:false,data:"mdata="+a,success:function(a){}})}function bulatkanrp(a){mbils=a.toString();amb=right(mbils,2);pul=toval(amb);jadi=a;if(pul>0){jadi=a-pul+100}return jadi}function right(a,b){pann=a.length;mjad=a.substr(pann-b,b);return mjad}function savstofifo(a,b,c,d,e,f,g,h,i,j){mpr="mlokid="+a+"&mstoid="+b+"&mnid="+c+"&mtgl="+d+"&mhrgin="+e+"&mhrgout="+f+"&mqtyin="+g+"&mqtyout="+h+"&mtrans="+i+"&mket="+j;mdu=0;$Pcs2.ajax({type:"POST",url:"phpexec2.php",chace:true,data:"mTransaksixx=savstofifo&"+mpr,async:false,chace:true,success:function(a){mdu=a}});return mdu}function baliktanggal(a){mh=a.substr(0,2);mb=a.substr(3,2);mt=a.substr(6,4);mjadi=mt+"-"+mb+"-"+mh;return mjadi}function baliktanggal2(a){mt=a.substr(0,4);mb=padl(a.substr(5,2),"0",2);mh=padl(a.substr(8,2),"0",2);mjadi=mh+"-"+mb+"-"+mt;return mjadi}function bulu(a){mhas=a;pba=Math.round(a);mhas=pba;return mhas}function padl(a,b,c){var d=a.length;var e=a;var f=c-d;for(var g=0;g<f;g++){e=b+e}return e}function getPrevElement(a){var b=false;var c=a.form;for(var d=c.elements.length;d>0;d--){if(b&&c.elements[d].type!="hidden")break;if(a==c.elements[d])b=true}mgg=c.elements[d%c.elements.length];disa=mgg.disabled;msisi=mgg.value;jhh=$Pcs2("#"+mgg.id).attr("readonly");if(disa||msisi=="F5c"||msisi=="F6c"){mgg=getPrevElement(mgg)}return mgg}function getNextElement(a){var b=false;var c=a.form;for(var d=0;d<c.elements.length;d++){if(b&&c.elements[d].type!="hidden")break;if(a==c.elements[d])b=true}mgg=c.elements[d%c.elements.length];if(mgg.id==""){mgg=getNextElement2(mgg)}disa=mgg.disabled;msisi=mgg.value;jhh=$Pcs2("#"+mgg.id).attr("readonly");if(disa||msisi=="ccF5"||msisi=="ccF6"){mgg=getNextElement(mgg)}return mgg}function getPrevElement2(a){var b=false;var c=a.form;for(var d=c.elements.length;d>0;d--){if(b&&c.elements[d].type!="hidden")break;if(a==c.elements[d])b=true}mgg=c.elements[d%c.elements.length];disa=mgg.disabled;msisi=mgg.value;jhh=$Pcs2("#"+mgg.id).attr("readonly");if(disa||msisi=="F5c"||msisi=="F6c"||jhh){mgg=getPrevElement2(mgg)}return mgg}function getNextElement2(a){var b=false;var c=a.form;for(var d=0;d<c.elements.length;d++){if(b&&c.elements[d].type!="hidden")break;if(a==c.elements[d])b=true}mgg=c.elements[d%c.elements.length];disa=mgg.disabled;msisi=mgg.value;if(mgg.id==""){mgg=getNextElement2(mgg)}jhh=$Pcs2("#"+mgg.id).attr("readonly");if(disa||msisi=="ccF5"||msisi=="ccF6"||jhh){mgg=getNextElement2(mgg)}return mgg}function tabOnEnter(a,b){var c=document.layers?b.which:document.all?b.keyCode:b.keyCode;switch(c){case 13:if(a.type!="button"&&a.type!="select-one"){getNextElement(a).focus();getNextElement(a).select();return false}break;case 37:break;case 38:if(a.type!="select-one"){getPrevElement(a).focus();getPrevElement(a).select()}return false;break;case 39:break;case 40:if(a.type!="select-one"){getNextElement(a).focus();getNextElement(a).select()}return false;break}return false}function tabOnEnter2(a,b){var c=document.layers?b.which:document.all?b.keyCode:b.keyCode;switch(c){case 13:if(a.type!="button"&&a.type!="select-one"){getNextElement2(a).focus();getNextElement2(a).select();return false}break;case 37:break;case 38:if(a.type!="select-one"){getPrevElement2(a).focus();getPrevElement2(a).select()}return false;break;case 39:break;case 40:if(a.type!="select-one"){getNextElement2(a).focus();getNextElement2(a).select()}return false;break}return false}function execajaxa(a){var b=a;mdu=0;$Pcs2.ajax({type:"POST",url:"phpexec.php",data:"func=EXECUTE&comm="+b,chace:true,async:true,success:function(a){if(a==1){mdu=1}else{alert(a)}}});return mdu}function execajaxas(a){var b=a;mdu=0;$Pcs2.ajax({type:"POST",url:"phpexec.php",data:"func=EXECUTE&comm="+b,async:false,chace:true,success:function(a){if(a==1){mdu=1}}});return mdu}function taptabel(a,b,c){mjadi="func=EXEC&field="+b+"&tabel="+a+"&kondisi="+c;mdat="";$Pcs2.ajax({type:"POST",url:"phpexec.php",dataType:"json",async:false,chace:true,data:mjadi,success:function(a){mdat=a}});return mdat}function taptabel2(a){var b=a;alert(a);mdat="";$Pcs2.ajax({type:"POST",url:"phpexec.php",chace:true,dataType:"json",async:false,data:"func=EXECUTE&comm=("+b+")",success:function(a){alert(a);mdat=a}});return mdat}function execajaxs(a,b){var c=a;mdu=0;$Pcs2.ajax({type:"POST",url:"phpexec2.php",chace:true,data:c,async:false,success:function(a){if(a.trim()!=""){if(b!=false){alert(a)}}mdu=a}});return mdu}function execajaxsa(a){var b=a;mdu=0;$Pcs2.ajax({type:"POST",chace:true,url:"phpexec2.php",data:b,async:true,success:function(a){if(a.trim()!=""){alert(a)}mdu=a}})}function transaksi(a){muu=1;$Pcs2.ajax({type:"POST",url:"phpexec2.php",chace:true,data:a,async:false,success:function(a){if(a!=""){alert(a)}}})}function cekangka(a,b){mdd=a.value.trim();if(mdd=="0"){return"0"}if(mdd==""){return"0"}var c=document.layers?b.which:document.all?b.keyCode:b.keyCode;if(c==9){return}if(c==39){return}if(c==38){return}if(c==40){return}if(c==37){return}var d=a.value.length;var e=a.value.trim();var f=a.value;if((c<=47||c>=58)&&(c<=95||c>=106)&&c!=8&&c!=188&&c!=13){var f=e.substring(0,d-1)}var g=a.value.indexOf(".");komanya="";if(g>=1){a.value=f;return}var h=f;var i=f.replace(",","");var i=i.replace(",","");var i=i.replace(",","");var i=i.replace(",","");var i=i.replace(",","");var i=i.replace(",","");var i=i.replace(",","");var i=i.replace(",","");var d=i.length;if(d<4){a.value=i;return}if(d>=4&&d<<7){kesatu=i.substring(d,d-3);seterus=i.substring(0,d-3);h=seterus+","+kesatu}if(d>=7&&d<<10){kesatu=i.substring(d,d-3);kedua=i.substring(d-3,d-6);seterus=i.substring(0,d-6);h=seterus+","+kedua+","+kesatu}if(d>=10&&d<<13){kesatu=i.substring(d,d-3);kedua=i.substring(d-3,d-6);ketiga=i.substring(d-6,d-9);seterus=i.substring(0,d-9);h=seterus+","+ketiga+","+kedua+","+kesatu}if(d>=13&&d<<16){kesatu=i.substring(d,d-3);kedua=i.substring(d-3,d-6);ketiga=i.substring(d-6,d-9);keempat=i.substring(d-9,d-12);seterus=i.substring(0,d-12);h=seterus+","+keempat+","+ketiga+","+kedua+","+kesatu}a.value=h;b.stop();a.focus()}function toval(a){a=a.toString();if(a==""){return 0}var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");a=parseFloat(a);return a}function toval2(a){a=a.toString();if(a==""){return 0}var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");var a=a.replace(",","");a=parseFloat(a);return a}function tra(a){mpos="";if(a<0){mpos="-"}var b="###,###,###,###,###,###";var c=a.toString();maa=c.indexOf(".");if(maa>0)return c;c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");c=c.replace(",","");var d="";var e=b.length;var f=c.length;var g=e-f+1;var h=b.length;while(h>=0){if(h-g>=0){var i=b.substr(h,1);if(i=="#"){var j=c.substr(h-g,1)}else{var j=i;g=g-1}if(!(j=="0"||j=="1"||j=="2"||j=="3"||j=="4"||j=="5"||j=="6"||j=="7"||j=="8"||j=="9"||j==","||j=="-")){j=""}d=j+d}h=h-1}d=mpos+d;d=d.replace("--","-");d=d.replace("-,","-");return d}function tglsekarang(){var a=new Date;hari=padl(a.getDate()+"","0",2);bulan=padl(a.getMonth()+1+"","0",2);tahun=a.getFullYear()+"";jadi=hari+"-"+bulan+"-"+tahun;return jadi}function totgl(a){lght=a.length;madd=a.substr(lght-1,1)+"";if(!(madd=="0"||madd=="1"||madd=="2"||madd=="3"||madd=="4"||madd=="5"||madd=="6"||madd=="7"||madd=="8"||madd=="9")){jadi=a.substr(0,lght-1);return jadi}jadi=a;if(lght==1){return jadi}if(lght==2){jadi=jadi+"-";return jadi}if(lght==4){jadi=a;return jadi}if(lght==5){jadi=jadi+"-";return jadi}if(lght==6){jadi=a;return jadi}if(lght==7){jadi=a;return jadi}if(lght==8){jadi=a;return jadi}if(lght==9){jadi=a;return jadi}if(lght==10){jadi=a;return jadi}if(lght>10){jadi=a.substr(0,10);return jadi}}function jamsekarang(){var a=new Date;jadi=a.getHours()+":"+padl(a.getMinutes()+"","0",2)+":"+padl(a.getSeconds()+"","0",2);return jadi}function inputtable(a,b,c,d,e,f){var g="insert into "+a+"("+c;if(f==undefined){f=""}for(var h=0;h<b.columnModel.length;h++){mfield=b.columnModel[h].id;nada=e.indexOf(mfield);if(nada<0){g=g+mfield+","}}mlg=g.length;g=g.substr(0,mlg-1)+") values ";for(var i=0;i<b.rows.length;i++){misinya="("+d;for(var h=0;h<b.columnModel.length;h++){mfield=b.columnModel[h].id;mtipe=b.columnModel[h].type;nada=e.indexOf(mfield);nada2=f.indexOf(mfield);if(nada<0){misiss=b.rows[i][h];if(mtipe=="number"&&!(nada2>0&&(misiss==0||misiss=="0"||misiss==""))){if(misiss==""){misiss="0"}misinya=misinya+toval(misiss)+","}if(mtipe=="date"&&!(nada2>0&&(misiss=="0000-00-00"||misiss.trim()==""||misiss=="00-00-0000"))){misinya=misinya+"str_to_date('"+misiss+"', '%d-%c-%Y'),"}if((mtipe=="text"||mtipe=="string")&&!(nada2>0&&misiss.trim()=="")){misinya=misinya+"'"+misiss+"',"}}}mlg=misinya.length;misinya=misinya.substr(0,mlg-1)+")";mjadinya=g+misinya;execajaxa(mjadinya)}}function sumthegrid(a,b){var c=0;mco1=a.getIndexOf(b);for(var d=0;d<a.rows.length;d++){minil=a.rows[d][mco1];if(minil!=null){c=c+parseInt(toval(minil))}}return c}function instabel(a,b,c,d,e,f){var g="insert into "+b+"("+c;for(var h=0;h<a.columnModel.length;h++){mfield=a.columnModel[h].id;nada=e.indexOf(mfield);if(nada<0){g=g+mfield+","}}mlg=g.length;g=g.substr(0,mlg-1)+") values ";misinya=" ("+d;for(var h=0;h<a.columnModel.length;h++){mfield=a.columnModel[h].id;mtipe=a.columnModel[h].type;nada=e.indexOf(mfield);if(nada<0){misiss=a.rows[f][h];if(mtipe=="number"){misinya=misinya+toval(misiss)+","}if(mtipe=="date"){misinya=misinya+"str_to_date('"+misiss+"', '%d-%c-%Y'),"}if(mtipe=="text"||mtipe=="string"){misinya=misinya+"'"+misiss+"',"}}}mlg=misinya.length;misinya=misinya.substr(0,mlg-1)+")";mjadinya=g+misinya;return mjadinya}function todate(a){mday=parseInt(a.substr(0,2));mmon=parseInt(a.substr(3,2));myea=parseInt(a.substr(6,4));mtgl=new Date(myea,mmon,mday);return mtgl}function simpandoc(a,b){$Pcs2.ajax({type:"POST",url:"phpexec.php?func=simta&tabl="+b+a,dataType:"json",chace:true,async:true,data:mjadi,success:function(a){}})}var mws=screen.width